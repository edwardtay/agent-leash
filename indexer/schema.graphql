# AgentLeash GraphQL Schema for Envio HyperIndex

type Transfer @entity {
  id: ID!
  from: String! @index
  to: String! @index
  value: BigInt!
  token: String!
  txHash: String!
  blockNumber: Int!
  timestamp: Int!
  chain: Int!
}

type VaultDeposit @entity {
  id: ID!
  user: String! @index
  amount: BigInt!
  txHash: String!
  blockNumber: Int!
  timestamp: Int!
  chain: Int!
}

type VaultWithdrawal @entity {
  id: ID!
  user: String! @index
  amount: BigInt!
  txHash: String!
  blockNumber: Int!
  timestamp: Int!
  chain: Int!
}

type AgentExecution @entity {
  id: ID!
  agent: String! @index
  action: String!
  token: String!
  amount: BigInt!
  recipient: String
  txHash: String!
  blockNumber: Int!
  timestamp: Int!
  chain: Int!
}

type DailyStats @entity {
  id: ID! # date-chain format
  date: String!
  chain: Int!
  totalTransfers: Int!
  totalVolume: BigInt!
  totalDeposits: Int!
  totalWithdrawals: Int!
  uniqueAgents: Int!
}
